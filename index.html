<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encuesta: El Diseño de Espacios Corporativos como Herramienta Estratégica</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            color: #4a4a4a;
            background: linear-gradient(135deg, #f8f6f3 0%, #ffffff 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
            background: linear-gradient(135deg, #e8ddd4 0%, #f4f1ed 100%);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(184,158,131,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            50% { transform: translate(-50%, -50%) rotate(180deg); }
        }

        .logo-text {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 600;
            color: #b89e83;
            margin-bottom: 5px;
            position: relative;
            z-index: 2;
        }

        .logo-subtext {
            font-family: 'Playfair Display', serif;
            font-size: 1.2rem;
            font-weight: 400;
            color: #a08965;
            margin-bottom: 15px;
            position: relative;
            z-index: 2;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .subtitle {
            font-size: 1.3rem;
            font-weight: 400;
            color: #6b5b47;
            margin-bottom: 20px;
            position: relative;
            z-index: 2;
            font-family: 'Montserrat', sans-serif;
        }

        .intro-text {
            font-size: 1rem;
            color: #8a7a6a;
            max-width: 600px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
            font-family: 'Montserrat', sans-serif;
        }

        .form-section {
            background: white;
            padding: 30px;
            margin-bottom: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            border-left: 4px solid #b89e83;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .form-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.12);
        }

        .section-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: #b89e83;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-icon {
            width: 24px;
            height: 24px;
            background: #b89e83;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }

        .question {
            margin-bottom: 25px;
        }

        .question-label {
            display: block;
            font-weight: 500;
            margin-bottom: 12px;
            color: #4a4a4a;
            font-size: 1rem;
            font-family: 'Montserrat', sans-serif;
        }

        .question-note {
            font-size: 0.85rem;
            color: #888;
            font-style: italic;
            margin-bottom: 10px;
            font-family: 'Montserrat', sans-serif;
        }

        .checkbox-group, .radio-group {
            display: grid;
            gap: 10px;
        }

        .checkbox-item, .radio-item {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: #fafafa;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.95rem;
            font-weight: 400;
        }

        .checkbox-item:hover, .radio-item:hover {
            background: #f0ebe6;
            border-color: #b89e83;
        }

        .checkbox-item input, .radio-item input {
            margin-right: 12px;
            transform: scale(1.2);
            accent-color: #b89e83;
        }

        .select-field, .text-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            background: white;
        }

        .select-field:focus, .text-input:focus {
            outline: none;
            border-color: #b89e83;
            box-shadow: 0 0 0 3px rgba(184, 158, 131, 0.1);
        }

        .textarea-field {
            width: 100%;
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            min-height: 120px;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        .textarea-field:focus {
            outline: none;
            border-color: #b89e83;
            box-shadow: 0 0 0 3px rgba(184, 158, 131, 0.1);
        }

        .priority-grid {
            display: grid;
            gap: 15px;
        }

        .priority-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
            background: #fafafa;
            border-radius: 8px;
            border: 2px solid transparent;
            font-family: 'Montserrat', sans-serif;
            font-size: 0.95rem;
        }

        .priority-select {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
            accent-color: #b89e83;
        }

        .submit-btn {
            background: linear-gradient(135deg, #b89e83 0%, #a08965 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            width: 100%;
            transition: transform 0.3s ease;
            font-family: 'Montserrat', sans-serif;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .footer {
            text-align: center;
            padding: 40px 20px;
            background: linear-gradient(135deg, #6b5b47 0%, #8a7a6a 100%);
            color: white;
            border-radius: 15px;
            margin-top: 40px;
        }

        .footer h3 {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .footer p {
            font-size: 0.95rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            font-family: 'Montserrat', sans-serif;
        }

        .dedication {
            background: linear-gradient(135deg, #b89e83 0%, #a08965 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            font-style: italic;
        }

        .contact-info {
            margin-top: 20px;
            font-size: 0.9rem;
            opacity: 0.8;
            font-family: 'Montserrat', sans-serif;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .logo-text {
                font-size: 2rem;
            }
            
            .logo-subtext {
                font-size: 1rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
            
            .form-section {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="logo-text">ALMA PROJECTS</h1>
            <div class="logo-subtext">EMPRESAS</div>
            <h2 class="subtitle">El Diseño de Espacios Corporativos como Herramienta Estratégica</h2>
            <p class="intro-text">
                <strong>Estimados miembros del Foro Ilusionando Paco Provencio:</strong><br><br>
                Como parte de un Trabajo Fin de Máster sobre el impacto del diseño interior en el entorno empresarial, solicitamos vuestra valiosa opinión. Vuestro perfil como empresarios y directivos con visión estratégica es especialmente relevante para esta investigación sobre cómo el diseño de espacios puede convertirse en una herramienta de éxito empresarial.
                <br><br>
                <em>Tiempo estimado: 3-4 minutos</em>
            </p>
        </div>

        <form id="encuestaForm">
            <div class="form-section">
                <h3 class="section-title">
                    <span class="section-icon">1</span>
                    Datos Generales
                </h3>
                
                <div class="question">
                    <label for="sector" class="question-label">Sector de su empresa:</label>
                    <select id="sector" class="select-field" name="sector" required>
                        <option value="">Seleccione su sector...</option>
                        <option value="servicios-profesionales">Servicios profesionales (consultoría, legal, financiero)</option>
                        <option value="tecnologia">Tecnología/IT</option>
                        <option value="comercio">Comercio/Retail</option>
                        <option value="salud">Salud y bienestar</option>
                        <option value="hosteleria">Hostelería/Restauración</option>
                        <option value="industrial">Industrial/Manufactura</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>

                <div class="question">
                    <span class="question-label">Tamaño de su empresa:</span>
                    <div class="radio-group" role="radiogroup" aria-labelledby="tamano-label">
                        <label class="radio-item">
                            <input type="radio" name="tamano" value="1-10" required>
                            1-10 empleados
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="tamano" value="11-50">
                            11-50 empleados
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="tamano" value="51-200">
                            51-200 empleados
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="tamano" value="200+">
                            Más de 200 empleados
                        </label>
                    </div>
                </div>

                <div class="question">
                    <span class="question-label">Años de experiencia empresarial:</span>
                    <div class="radio-group" role="radiogroup">
                        <label class="radio-item">
                            <input type="radio" name="experiencia" value="<5" required>
                            Menos de 5 años
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="experiencia" value="5-15">
                            5-15 años
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="experiencia" value="16-25">
                            16-25 años
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="experiencia" value="25+">
                            Más de 25 años
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">
                    <span class="section-icon">2</span>
                    Percepción del Diseño Interior Corporativo
                </h3>

                <div class="question">
                    <span class="question-label">¿Considera que el diseño de su espacio de trabajo influye en los resultados de su empresa?</span>
                    <div class="radio-group" role="radiogroup">
                        <label class="radio-item">
                            <input type="radio" name="influencia" value="definitivamente-si" required>
                            Definitivamente sí
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="influencia" value="probablemente-si">
                            Probablemente sí
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="influencia" value="no-seguro">
                            No estoy seguro/a
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="influencia" value="probablemente-no">
                            Probablemente no
                        </label>
                        <label class="radio-item">
                            <input type="radio" name="influencia" value="definitivamente-no">
                            Definitivamente no
                        </label>
                    </div>
                </div>

                <div class="question">
                    <span class="question-label">En su opinión, ¿cuáles son los principales beneficios de invertir en el diseño del espacio corporativo?</span>
                    <p class="question-note">(Seleccione máximo 3 opciones)</p>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="productividad">
                            Mejora de la productividad del equipo
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="imagen-marca">
                            Fortalecimiento de la imagen de marca
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="bienestar">
                            Mayor satisfacción y bienestar de los empleados
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="ventas">
                            Incremento de ventas/captación de clientes
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="diferenciacion">
                            Diferenciación frente a la competencia
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="talento">
                            Atracción y retención de talento
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="estres">
                            Reducción del estrés laboral
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" name="beneficios" value="no-beneficios">
                            No veo beneficios claros
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3 class="section-title">
                    <span class="section-icon">3</span>
                    Comentarios Adicionales
                </h3>

                <div class="question">
                    <label for="comentarios" class="question-label">COMENTARIOS ADICIONALES:</label>
                    <p class="question-note">Si desea compartir alguna experiencia, necesidad específica o sugerencia relacionada con el diseño de espacios corporativos:</p>
                    <textarea id="comentarios" class="textarea-field" name="comentarios" placeholder="Comparta aquí sus pensamientos, experiencias o sugerencias..."></textarea>
                </div>
            </div>

            <button type="submit" class="submit-btn">
                Enviar Respuestas
            </button>
        </form>

        <div class="footer">
            <h3>¡Muchas gracias por vuestro tiempo y colaboración!</h3>
            <p>
                Vuestras respuestas son confidenciales y serán utilizadas únicamente con fines académicos para el desarrollo de este Trabajo Fin de Máster sobre ALMA PROJECTS EMPRESAS.
            </p>
            
            <div class="dedication">
                <p>
                    <strong>En honor al espíritu de Paco Provencio</strong>, esta investigación busca comprender cómo el diseño puede ser una herramienta que ilusione, inspire y genere resultados reales para las empresas de nuestra región.
                </p>
            </div>
            
            <div class="contact-info">
                <p><strong>Datos de contacto para consultas:</strong></p>
                <p>Nombre: Patricia Alberca | Email: info@almaprojects.net | Universidad: UCAM</p>
            </div>
        </div>
    </div>

    <script>
        // Validación para máximo 3 checkboxes en beneficios
        const beneficiosCheckboxes = document.querySelectorAll('input[name="beneficios"]');
        beneficiosCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const checkedCount = document.querySelectorAll('input[name="beneficios"]:checked').length;
                if (checkedCount > 3) {
                    this.checked = false;
                    alert('Por favor, seleccione máximo 3 opciones.');
                }
            });
        });

        function mostrarIndicadorEnvio() {
            const boton = document.querySelector('.submit-btn');
            boton.innerHTML = 'Enviando respuesta...';
            boton.style.background = '#999';
            boton.disabled = true;
        }

        function mostrarExito() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 1000;
                display: flex; align-items: center; justify-content: center;
            `;
            
            const contenido = document.createElement('div');
            contenido.style.cssText = `
                background: white; padding: 40px; border-radius: 20px;
                max-width: 500px; text-align: center;
                box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            `;
            
            contenido.innerHTML = `
                <div style="color: #b89e83; font-size: 60px; margin-bottom: 20px;">✓</div>
                <h3 style="color: #b89e83; font-family: 'Playfair Display', serif; font-size: 1.8rem; margin-bottom: 20px;">
                    ¡Respuesta Enviada Correctamente!
                </h3>
                <p style="color: #666; font-size: 1.1rem; margin-bottom: 20px;">
                    Muchas gracias por participar en la investigación de ALMA PROJECTS.
                </p>
                <p style="color: #888; font-size: 0.9rem; margin-bottom: 30px;">
                    Tu opinión es muy valiosa para el desarrollo del sector del diseño interior en la Región de Murcia.
                </p>
                <button onclick="window.location.reload()" 
                        style="background: linear-gradient(135deg, #b89e83 0%, #a08965 100%); color: white; padding: 12px 30px; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer;">
                    Cerrar
                </button>
                <div style="margin-top: 20px; font-size: 0.8rem; color: #999; font-style: italic;">
                    En honor al espíritu de Paco Provencio
                </div>
            `;
            
            modal.appendChild(contenido);
            document.body.appendChild(modal);
        }

        function mostrarError(mensaje) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); z-index: 1000;
                display: flex; align-items: center; justify-content: center;
            `;
            
            const contenido = document.createElement('div');
            contenido.style.cssText = `
                background: white; padding: 30px; border-radius: 15px;
                max-width: 400px; text-align: center;
            `;
            
            contenido.innerHTML = `
                <div style="color: #e74c3c; font-size: 50px; margin-bottom: 20px;">⚠</div>
                <h3 style="color: #e74c3c; margin-bottom: 15px;">Error al enviar</h3>
                <p style="color: #666; margin-bottom: 20px;">${mensaje}</p>
                <button onclick="this.closest('.modal').remove(); location.reload()" 
                        style="background: #e74c3c; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
                    Intentar de nuevo
                </button>
            `;
            
            modal.className = 'modal';
            modal.appendChild(contenido);
            document.body.appendChild(modal);

            // Restaurar botón
            const boton = document.querySelector('.submit-btn');
            boton.innerHTML = 'Enviar Respuestas';
            boton.style.background = 'linear-gradient(135deg, #b89e83 0%, #a08965 100%)';
            boton.disabled = false;
        }

        // Función principal para enviar a Google Sheets
        function enviarAGoogleSheets(datos) {
            const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw8v0ksfzQS8Tr8Gatc6Fpsf0MXrIdCaFmj_TT5GylyR5Tk6gLZdn1veDBUIUd2RWA/exec';
            
            console.log('Enviando datos a:', SCRIPT_URL);
            console.log('Datos a enviar:', datos);
            
            fetch(SCRIPT_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(datos)
            })
            .then(response => {
                console.log('Respuesta recibida:', response);
                return response.json();
            })
            .then(data => {
                console.log('Datos de respuesta:', data);
                if (data.status === 'success') {
                    mostrarExito();
                } else {
                    mostrarError('Error en el servidor: ' + data.message);
                }
            })
            .catch(error => {
                console.error('Error de red:', error);
                mostrarError('Error de conexión. Verifica tu conexión a internet e inténtalo de nuevo.');
            });
        }

        // Envío del formulario
        document.getElementById('encuestaForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Mostrar indicador de envío
            mostrarIndicadorEnvio();

            // Recopilar datos del formulario
            const formData = new FormData(this);
            const datos = {};
            
            // Procesar campos normales
            for (let [key, value] of formData.entries()) {
                if (datos[key]) {
                    // Si ya existe, convertir a array (para checkboxes múltiples)
                    if (Array.isArray(datos[key])) {
                        datos[key].push(value);
                    } else {
                        datos[key] = [datos[key], value];
                    }
                } else {
                    datos[key] = value;
                }
            }

            // Enviar a Google Sheets automáticamente
            enviarAGoogleSheets(datos);
        });
    </script>
</body>
</html>
